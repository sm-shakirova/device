{"ast":null,"code":"var _jsxFileName = \"/Users/s.shakirova/Desktop/GitHub/device/src/components/blocks/login-form/login-form.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Popup } from '../../layout';\nimport { Title, Input, Button, Alert } from '../../ui';\nimport { useStore } from \"effector-react\";\nimport { $users, loadUsers, findUser, setErrorAlert } from '../../../model/users';\nimport { Wrapper } from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginForm = _ref => {\n  _s();\n\n  let {\n    isOpen,\n    setOpen\n  } = _ref;\n  const users = useStore($users);\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [register, setRegister] = useState(false);\n  return /*#__PURE__*/_jsxDEV(Popup, {\n    isOpen: isOpen,\n    setOpen: setOpen,\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      as: \"h2\",\n      size: \"L\",\n      marginBottom: 60,\n      children: register ? 'Регистрация' : 'Вход'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), users.loginError ? /*#__PURE__*/_jsxDEV(Alert, {\n      marginTop: -30,\n      marginBottom: 30,\n      children: \"\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u043E\\u0435 \\u0438\\u043C\\u044F \\u0438\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C // try Ervin Howell\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: evt => evt.preventDefault(),\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        width: register ? '100%' : '65%',\n        label: \"\\u0418\\u043C\\u044F:\",\n        type: \"text\",\n        placeholder: \"\\u0418\\u043C\\u044F \\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",\n        marginBottom: 30,\n        value: name,\n        onChange: evt => setName(evt.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), register ? /*#__PURE__*/_jsxDEV(Wrapper, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          label: \"E-mail:\",\n          type: \"email\",\n          placeholder: \"krasotka92@mail.ru\",\n          marginBottom: 30,\n          value: email,\n          onChange: evt => setEmail(evt.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          label: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\",\n          type: \"phone\",\n          placeholder: \"+7(000)000-00-00\",\n          marginBottom: 30,\n          value: phone,\n          onChange: evt => setPhone(evt.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(Input, {\n        width: register ? '100%' : '65%',\n        label: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C:\",\n        type: \"password\",\n        placeholder: \"********\",\n        value: password,\n        onChange: evt => setPassword(evt.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), !register ? /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        marginTop: 65,\n        highlighted: true,\n        onClick: () => {\n          loadUsers().then(() => findUser({\n            name: name,\n            password: password\n          })).then(() => users.loginError ? setErrorAlert(true) : setOpen(false));\n        },\n        children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(Button, {\n        type: register ? 'submit' : 'button',\n        marginTop: 65,\n        marginRight: 45,\n        marginLeft: register ? 0 : 45,\n        highlighted: register,\n        onClick: () => {\n          setErrorAlert(false);\n          setRegister(true);\n        },\n        children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), register ? /*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        marginTop: 65,\n        onClick: () => setRegister(false),\n        children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoginForm, \"z7ApWHlyKhj+BU9FHMHMYEh0ElU=\", false, function () {\n  return [useStore];\n});\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/Users/s.shakirova/Desktop/GitHub/device/src/components/blocks/login-form/login-form.tsx"],"names":["React","useState","Popup","Title","Input","Button","Alert","useStore","$users","loadUsers","findUser","setErrorAlert","Wrapper","LoginForm","isOpen","setOpen","users","name","setName","password","setPassword","email","setEmail","phone","setPhone","register","setRegister","loginError","evt","preventDefault","target","value","then"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Popup } from '../../layout';\nimport { Title, Input, Button, Alert } from '../../ui';\nimport { useStore } from \"effector-react\";\nimport { $users, loadUsers, findUser, setErrorAlert } from '../../../model/users';\nimport { Wrapper } from './styles';\n\nexport interface ILoginForm {\n  isOpen: boolean;\n  setOpen: any;\n  alert?: boolean;\n  setAlert?: (params: any) => any;\n}\n\nconst LoginForm: React.FC<ILoginForm> = ({ isOpen, setOpen }) => {\n  const users = useStore($users);\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [register, setRegister] = useState(false);\n\n  return (\n    <Popup isOpen={isOpen} setOpen={setOpen}>\n      <Title as='h2' size='L' marginBottom={60}>\n        {register ? 'Регистрация' : 'Вход'}\n      </Title>\n      {users.loginError ? (\n        <Alert marginTop={-30} marginBottom={30}>\n          Неверное имя или пароль // try Ervin Howell\n        </Alert>\n      ) : null}\n      <form onSubmit={evt => evt.preventDefault()}>\n        <Input\n          width={register ? '100%' : '65%'}\n          label='Имя:'\n          type='text'\n          placeholder='Имя Фамилия'\n          marginBottom={30}\n          value={name}\n          onChange={evt => setName(evt.target.value)}\n        />\n        {register ? (\n          <Wrapper>\n            <Input\n              label='E-mail:'\n              type='email'\n              placeholder='krasotka92@mail.ru'\n              marginBottom={30}\n              value={email}\n              onChange={evt => setEmail(evt.target.value)}\n            />\n            <Input\n              label='Телефон:'\n              type='phone'\n              placeholder='+7(000)000-00-00'\n              marginBottom={30}\n              value={phone}\n              onChange={evt => setPhone(evt.target.value)}\n            />\n          </Wrapper>\n        ) : null}\n        <Input\n          width={register ? '100%' : '65%'}\n          label='Пароль:'\n          type='password'\n          placeholder='********'\n          value={password}\n          onChange={evt => setPassword(evt.target.value)}\n        />\n        {!register ? (\n          <Button\n            type='submit'\n            marginTop={65}\n            highlighted\n            onClick={() => {\n              loadUsers()\n                .then(() => findUser({\n                  name: name,\n                  password: password\n                }))\n                .then(() =>\n                  users.loginError ?\n                    setErrorAlert(true) :\n                    setOpen(false)\n                );\n            }}\n          >\n            Войти\n          </Button>\n        ) : null}\n        <Button\n          type={register ? 'submit' : 'button'}\n          marginTop={65}\n          marginRight={45}\n          marginLeft={register ? 0 : 45}\n          highlighted={register}\n          onClick={() => {\n            setErrorAlert(false);\n            setRegister(true);\n          }}\n        >\n          Зарегистрироваться\n        </Button>\n        {register ? (\n          <Button\n            type='button'\n            marginTop={65}\n            onClick={() => setRegister(false)}\n          >\n            Назад\n          </Button>\n        ) : null}\n      </form>\n    </Popup>\n  )\n}\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}